<html>
<head>
  <title> Hal Demo </title>
</head>
<body style="width:70%;margin:auto;padding:0">

<script type="text/javascript">
  function xml_http_post(url, data, callback) {
    var req = false;
    try { 
      req = new XMLHttpRequest(); }
    catch (e) {
      try { 
        req = new ActiveXObject("Msxml2.XMLHTTP"); }
      catch (e) { 
        alert("Sorry, your browser isn't supported"); 
        return false; }
    }
    req.open("POST", url, true);
    req.onreadystatechange = function() {
      if (req.readyState == 4) { callback(req); }
    }
    req.send(data);
  }
  function demo_button() {
    var data = document.getElementById("demo_id").value;
    var elem = document.getElementById('demo_result');
    elem.innerHTML += '&ltSteve&gt ' + data + '<br>';
    xml_http_post("index.html", data, demo_handle);
    document.getElementById("demo_id").value = "";
  }
  function demo_handle(req) {
    var elem = document.getElementById('demo_result');
    elem.innerHTML += req.responseText;
  }
</script>

<div style="font-family: 'Courier New', Courier, monospace;font-size:12px;"> 
  <br>
  <h2> Hal Live Demo </h2>
  <div style="
    height:70%; overflow:auto; overflow-x:hidden; overflow-y:scroll">
    <span id="demo_result"> 
      [Hal] Hey there Steve! Try saying "Hal help"<br>
    </span>
    <br>
  </div>

  <form name="demo_form">
    &ltSteve&gt
    <input name="demo_text" id="demo_id" value="" size="40" 
      onkeydown="if(event.keyCode==13){
      event.preventDefault();demo_button();}"/>
  </form>
</div>

</body>
</html>
